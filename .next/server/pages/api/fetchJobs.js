"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/fetchJobs";
exports.ids = ["pages/api/fetchJobs"];
exports.modules = {

/***/ "jsdom":
/*!************************!*\
  !*** external "jsdom" ***!
  \************************/
/***/ ((module) => {

module.exports = require("jsdom");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchJobs&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FfetchJobs.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchJobs&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FfetchJobs.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_fetchJobs_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/fetchJobs.ts */ \"(api)/./src/pages/api/fetchJobs.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_fetchJobs_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_fetchJobs_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_fetchJobs_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_fetchJobs_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/fetchJobs\",\n        pathname: \"/api/fetchJobs\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_fetchJobs_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmZldGNoSm9icyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyUyRnBhZ2VzJTJGYXBpJTJGZmV0Y2hKb2JzLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3lEO0FBQ3pEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9iLXBvcnRhbC8/MTUxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjL3BhZ2VzL2FwaS9mZXRjaEpvYnMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9mZXRjaEpvYnNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9mZXRjaEpvYnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchJobs&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FfetchJobs.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/app/services/fetchJobs.ts":
/*!***************************************!*\
  !*** ./src/app/services/fetchJobs.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchAndParseJobs: () => (/* binding */ fetchAndParseJobs)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var jsdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsdom */ \"jsdom\");\n/* harmony import */ var jsdom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsdom__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\"use server\";\n\n\nconst fetchAndParseJobs = async ()=>{\n    const url = \"https://www.sarkariresult.com/latestjob/\";\n    const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url);\n    const html = response.data;\n    const jobs = parseJobsFromHtml(html);\n    const currentYear = new Date().getFullYear();\n    const filteredJobs = jobs.filter((job)=>{\n        const lastDate = parseDate(job.lastDate);\n        const year = getYearFromDateString(job.lastDate);\n        const jobNameYear = extractYearFromJobName(job.nameWithLink);\n        return lastDate >= new Date() && year.length === 4 || year === \"NA\" && typeof jobNameYear === \"number\" && jobNameYear >= currentYear;\n    });\n    for (const job of filteredJobs){\n        const jobHtml = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(job.url).then((res)=>res.data);\n        job.applyLinks = fetchApplyLink(jobHtml);\n        job.daysLeft = calculateDaysLeft(job.lastDate);\n        job.notificationLinks = fetchApplyNotificationLink(jobHtml);\n        job.publishedDate = fetchPublishedDate(jobHtml);\n    }\n    filteredJobs.sort((a, b)=>{\n        const dateA = parseDate(a.lastDate);\n        const dateB = parseDate(b.lastDate);\n        if (isNaN(dateA.getTime())) return 1;\n        if (isNaN(dateB.getTime())) return -1;\n        return dateA.getTime() - dateB.getTime();\n    });\n    return filteredJobs;\n};\nconst parseDate = (dateString)=>{\n    const parts = dateString.split(\"/\");\n    if (parts.length !== 3) return new Date(NaN);\n    return new Date(parseInt(parts[2]), parseInt(parts[1]) - 1, parseInt(parts[0]));\n};\nconst getYearFromDateString = (dateString)=>{\n    const parts = dateString.split(\"/\");\n    return parts[2] || \"NA\";\n};\nconst extractYearFromJobName = (jobNameWithLink)=>{\n    const yearMatch = jobNameWithLink.match(/\\b(20\\d{2})\\b/);\n    return yearMatch ? parseInt(yearMatch[1]) : \"NA\";\n};\nconst fetchApplyLink = (html)=>{\n    const dom = new jsdom__WEBPACK_IMPORTED_MODULE_1__.JSDOM(html);\n    const document = dom.window.document;\n    let applyLinks = [];\n    // Find all <tr> elements in the document\n    const trElements = document.querySelectorAll(\"tr\");\n    // Loop through each <tr> element to find \"Apply Online\"\n    trElements.forEach((tr)=>{\n        const tdElements = tr.querySelectorAll(\"td\");\n        // Check if the first <td> contains \"Apply Online\"\n        if (tdElements.length >= 2 && tdElements[0].textContent?.includes(\"Apply Online\")) {\n            // Find all <a> elements within the second <td>\n            const applyLinkElements = tdElements[1].querySelectorAll(\"a\");\n            if (applyLinkElements.length > 0) {\n                // Loop through each <a> element and construct applyLink strings\n                applyLinkElements.forEach((applyLinkElement)=>{\n                    const href = applyLinkElement.getAttribute(\"href\") || \"\";\n                    const text = applyLinkElement.textContent?.trim() || \"\";\n                    // Create the applyLink string with clickable text\n                    applyLinks.push(`<a href=\"${href}\" target=\"_blank\">${text}</a>`);\n                });\n            }\n        }\n    });\n    return applyLinks;\n};\nconst fetchApplyNotificationLink = (html)=>{\n    const dom = new jsdom__WEBPACK_IMPORTED_MODULE_1__.JSDOM(html);\n    const document = dom.window.document;\n    let applyLinks = [];\n    // Find all <tr> elements in the document\n    const trElements = document.querySelectorAll(\"tr\");\n    // Loop through each <tr> element to find \"Apply Online\"\n    trElements.forEach((tr)=>{\n        const tdElements = tr.querySelectorAll(\"td\");\n        // Check if the first <td> contains \"Apply Online\"\n        if (tdElements.length >= 2 && tdElements[0].textContent?.includes(\"Download\") && tdElements[0].textContent?.includes(\"Notification\")) {\n            // Find all <a> elements within the second <td>\n            const applyLinkElements = tdElements[1].querySelectorAll(\"a\");\n            if (applyLinkElements.length > 0) {\n                // Loop through each <a> element and construct applyLink strings\n                applyLinkElements.forEach((applyLinkElement)=>{\n                    const href = applyLinkElement.getAttribute(\"href\") || \"\";\n                    const text = applyLinkElement.textContent?.trim() || \"\";\n                    // Create the applyLink string with clickable text\n                    applyLinks.push(`<a href=\"${href}\" target=\"_blank\">${text}</a>`);\n                });\n            }\n        }\n    });\n    return applyLinks;\n};\n// const fetchApplyNotificationLink = (html: string): string => {\n//   const dom = new JSDOM(html);\n//   const document = dom.window.document;\n//   let applyLink = '';\n//   document.querySelectorAll('tr').forEach(tr => {\n//     if (tr.textContent?.includes('Download') && tr.textContent?.includes('Notification')) {\n//       const link = tr.querySelector('a[href]')?.getAttribute('href');\n//       if (link) {\n//         applyLink = link;\n//         return;\n//       }\n//     }\n//   });\n//   return applyLink;\n// };\nfunction fetchPublishedDate(html) {\n    const dom = new jsdom__WEBPACK_IMPORTED_MODULE_1__.JSDOM(html);\n    const document = dom.window.document;\n    let formattedDate = \"\";\n    const tbody = document.querySelector(\"tbody\");\n    if (!tbody) {\n        return formattedDate;\n    }\n    const trElements = tbody.querySelectorAll(\"tr\");\n    trElements.forEach((tr)=>{\n        const tdElements = tr.querySelectorAll(\"td\");\n        if (tdElements.length >= 2 && tdElements[0].textContent?.includes(\"Post Date / Update:\")) {\n            const dateString = tdElements[1].textContent?.trim() || \"\";\n            formattedDate = formatDateString(dateString);\n        }\n    });\n    return formattedDate;\n}\nfunction formatDateString(dateString) {\n    const [datePart, timePart] = dateString.split(\" | \");\n    const dateParts = datePart.split(\" \");\n    const day = dateParts[0];\n    const month = getMonthNumber(dateParts[1]);\n    const year = dateParts[2];\n    const formattedDate = `${day}/${month}/${year}`;\n    const finalDate = `${formattedDate} ${timePart}`;\n    return finalDate;\n}\nfunction getMonthNumber(monthName) {\n    const months = {\n        \"January\": \"01\",\n        \"February\": \"02\",\n        \"March\": \"03\",\n        \"April\": \"04\",\n        \"May\": \"05\",\n        \"June\": \"06\",\n        \"July\": \"07\",\n        \"August\": \"08\",\n        \"September\": \"09\",\n        \"October\": \"10\",\n        \"November\": \"11\",\n        \"December\": \"12\"\n    };\n    return months[monthName] || \"\";\n}\nconst calculateDaysLeft = (lastDate)=>{\n    if (!lastDate) return undefined;\n    const parts = lastDate.split(\"/\");\n    if (parts.length !== 3) return undefined;\n    const endDate = new Date(parseInt(parts[2]), parseInt(parts[1]) - 1, parseInt(parts[0]));\n    const today = new Date();\n    const diffTime = endDate.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n};\nconst parseJobsFromHtml = (html)=>{\n    const dom = new jsdom__WEBPACK_IMPORTED_MODULE_1__.JSDOM(html);\n    const document = dom.window.document;\n    const jobContainer = document.getElementById(\"post\");\n    if (!jobContainer) {\n        return [];\n    }\n    const jobLists = Array.from(jobContainer.querySelectorAll(\"ul\"));\n    if (jobLists.length === 0) {\n        return [];\n    }\n    return jobLists.map((list)=>{\n        const jobNameLinkElement = list.querySelector(\"li > a\");\n        const jobNameWithLink = jobNameLinkElement?.outerHTML || \"\";\n        // Match any string after \"Last Date : \" until the end of the line\n        const lastDateMatch = list.textContent?.match(/Last Date : (.*)/);\n        const lastDate = lastDateMatch ? lastDateMatch[1].trim() : \"\"; // Use the matched string\n        const url = jobNameLinkElement?.getAttribute(\"href\") || \"\";\n        return {\n            url,\n            nameWithLink: jobNameWithLink,\n            lastDate\n        };\n    });\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLQyxJQUFJLENBQUNILFdBQVksUUFBTyxLQUFLLEtBQUssRUFBQztJQUV6RCxPQUFPQztBQUNUO0FBRUEsTUFBTTNFLG9CQUFvQixDQUFDSDtJQUN6QixNQUFNNEMsTUFBTSxJQUFJakQsd0NBQUtBLENBQUNLO0lBQ3RCLE1BQU02QyxXQUFXRCxJQUFJRSxNQUFNLENBQUNELFFBQVE7SUFDcEMsTUFBTW9DLGVBQWVwQyxTQUFTcUMsY0FBYyxDQUFDO0lBRTdDLElBQUksQ0FBQ0QsY0FBYztRQUNqQixPQUFPLEVBQUU7SUFDWDtJQUVBLE1BQU1FLFdBQVdDLE1BQU1DLElBQUksQ0FBQ0osYUFBYWpDLGdCQUFnQixDQUFDO0lBRTFELElBQUltQyxTQUFTbEUsTUFBTSxLQUFLLEdBQUc7UUFDekIsT0FBTyxFQUFFO0lBQ1g7SUFFQSxPQUFPa0UsU0FBU0csR0FBRyxDQUFDLENBQUNDO1FBQ25CLE1BQU1DLHFCQUFxQkQsS0FBS3hCLGFBQWEsQ0FBQztRQUM5QyxNQUFNdEIsa0JBQWtCK0Msb0JBQW9CQyxhQUFhO1FBRXpELGtFQUFrRTtRQUNsRSxNQUFNQyxnQkFBZ0JILEtBQUtuQyxXQUFXLEVBQUVULE1BQU07UUFDOUMsTUFBTWpDLFdBQVdnRixnQkFBZ0JBLGFBQWEsQ0FBQyxFQUFFLENBQUMvQixJQUFJLEtBQUssSUFBSSx5QkFBeUI7UUFFeEYsTUFBTTlELE1BQU0yRixvQkFBb0IvQixhQUFhLFdBQVc7UUFFeEQsT0FBTztZQUFFNUQ7WUFBS21CLGNBQWN5QjtZQUFpQi9CO1FBQVM7SUFDeEQ7QUFDRjtBQUk2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2pvYi1wb3J0YWwvLi9zcmMvYXBwL3NlcnZpY2VzL2ZldGNoSm9icy50cz81ZmM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgSlNET00gfSBmcm9tICdqc2RvbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSm9iIHtcbiAgdXJsOiBzdHJpbmc7XG4gIG5hbWVXaXRoTGluazogc3RyaW5nO1xuICBsYXN0RGF0ZTogc3RyaW5nO1xuICBub3RpZmljYXRpb25MaW5rcz86IGFueTtcbiAgcHVibGlzaGVkRGF0ZT86IHN0cmluZztcbiAgYXBwbHlMaW5rcz86IGFueTtcbiAgZGF5c0xlZnQ/OiBudW1iZXI7XG4gIGFwcGxpZWQ/OiBib29sZWFuO1xufVxuXG5jb25zdCBmZXRjaEFuZFBhcnNlSm9icyA9IGFzeW5jICgpOiBQcm9taXNlPEpvYltdPiA9PiB7XG4gIGNvbnN0IHVybCA9ICdodHRwczovL3d3dy5zYXJrYXJpcmVzdWx0LmNvbS9sYXRlc3Rqb2IvJztcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQodXJsKTtcbiAgY29uc3QgaHRtbCA9IHJlc3BvbnNlLmRhdGE7XG4gIGNvbnN0IGpvYnMgPSBwYXJzZUpvYnNGcm9tSHRtbChodG1sKTtcbiAgY29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cbiAgY29uc3QgZmlsdGVyZWRKb2JzID0gam9icy5maWx0ZXIoam9iID0+IHtcbiAgICBjb25zdCBsYXN0RGF0ZSA9IHBhcnNlRGF0ZShqb2IubGFzdERhdGUpO1xuICAgIGNvbnN0IHllYXIgPSBnZXRZZWFyRnJvbURhdGVTdHJpbmcoam9iLmxhc3REYXRlKTtcbiAgICBjb25zdCBqb2JOYW1lWWVhciA9IGV4dHJhY3RZZWFyRnJvbUpvYk5hbWUoam9iLm5hbWVXaXRoTGluayk7XG4gICAgcmV0dXJuIChcbiAgICAgIChsYXN0RGF0ZSA+PSBuZXcgRGF0ZSgpICYmIHllYXIubGVuZ3RoID09PSA0KSB8fFxuICAgICAgKHllYXIgPT09ICdOQScgJiYgKHR5cGVvZiBqb2JOYW1lWWVhciA9PT0gJ251bWJlcicgJiYgam9iTmFtZVllYXIgPj0gY3VycmVudFllYXIpKVxuICAgICk7XG4gIH0pO1xuXG4gIGZvciAoY29uc3Qgam9iIG9mIGZpbHRlcmVkSm9icykge1xuICAgIGNvbnN0IGpvYkh0bWwgPSBhd2FpdCBheGlvcy5nZXQoam9iLnVybCkudGhlbihyZXMgPT4gcmVzLmRhdGEpO1xuICAgIGpvYi5hcHBseUxpbmtzID0gZmV0Y2hBcHBseUxpbmsoam9iSHRtbCk7XG4gICAgam9iLmRheXNMZWZ0ID0gY2FsY3VsYXRlRGF5c0xlZnQoam9iLmxhc3REYXRlKTtcbiAgICBqb2Iubm90aWZpY2F0aW9uTGlua3MgPSBmZXRjaEFwcGx5Tm90aWZpY2F0aW9uTGluayhqb2JIdG1sKTtcbiAgICBqb2IucHVibGlzaGVkRGF0ZSA9IGZldGNoUHVibGlzaGVkRGF0ZShqb2JIdG1sKTtcbiAgfVxuXG4gIGZpbHRlcmVkSm9icy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgZGF0ZUEgPSBwYXJzZURhdGUoYS5sYXN0RGF0ZSk7XG4gICAgY29uc3QgZGF0ZUIgPSBwYXJzZURhdGUoYi5sYXN0RGF0ZSk7XG4gICAgaWYgKGlzTmFOKGRhdGVBLmdldFRpbWUoKSkpIHJldHVybiAxO1xuICAgIGlmIChpc05hTihkYXRlQi5nZXRUaW1lKCkpKSByZXR1cm4gLTE7XG4gICAgcmV0dXJuIGRhdGVBLmdldFRpbWUoKSAtIGRhdGVCLmdldFRpbWUoKTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZEpvYnM7XG59O1xuXG5jb25zdCBwYXJzZURhdGUgPSAoZGF0ZVN0cmluZzogc3RyaW5nKTogRGF0ZSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gZGF0ZVN0cmluZy5zcGxpdCgnLycpO1xuICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KHBhcnRzWzJdKSwgcGFyc2VJbnQocGFydHNbMV0pIC0gMSwgcGFyc2VJbnQocGFydHNbMF0pKTtcbn07XG5cbmNvbnN0IGdldFllYXJGcm9tRGF0ZVN0cmluZyA9IChkYXRlU3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBwYXJ0cyA9IGRhdGVTdHJpbmcuc3BsaXQoJy8nKTtcbiAgcmV0dXJuIHBhcnRzWzJdIHx8ICdOQSc7XG59O1xuXG5jb25zdCBleHRyYWN0WWVhckZyb21Kb2JOYW1lID0gKGpvYk5hbWVXaXRoTGluazogc3RyaW5nKTogbnVtYmVyIHwgJ05BJyA9PiB7XG4gIGNvbnN0IHllYXJNYXRjaCA9IGpvYk5hbWVXaXRoTGluay5tYXRjaCgvXFxiKDIwXFxkezJ9KVxcYi8pO1xuICByZXR1cm4geWVhck1hdGNoID8gcGFyc2VJbnQoeWVhck1hdGNoWzFdKSA6ICdOQSc7XG59O1xuXG5jb25zdCBmZXRjaEFwcGx5TGluayA9IChodG1sOiBzdHJpbmcpOiBhbnkgPT4ge1xuICBjb25zdCBkb20gPSBuZXcgSlNET00oaHRtbCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZG9tLndpbmRvdy5kb2N1bWVudDtcbiAgbGV0IGFwcGx5TGlua3M6IHN0cmluZ1tdID0gW107XG5cbiAgLy8gRmluZCBhbGwgPHRyPiBlbGVtZW50cyBpbiB0aGUgZG9jdW1lbnRcbiAgY29uc3QgdHJFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7XG5cbiAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggPHRyPiBlbGVtZW50IHRvIGZpbmQgXCJBcHBseSBPbmxpbmVcIlxuICB0ckVsZW1lbnRzLmZvckVhY2goKHRyKSA9PiB7XG4gICAgY29uc3QgdGRFbGVtZW50cyA9IHRyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkJyk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGZpcnN0IDx0ZD4gY29udGFpbnMgXCJBcHBseSBPbmxpbmVcIlxuICAgIGlmICh0ZEVsZW1lbnRzLmxlbmd0aCA+PSAyICYmIHRkRWxlbWVudHNbMF0udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdBcHBseSBPbmxpbmUnKSkge1xuICAgICAgLy8gRmluZCBhbGwgPGE+IGVsZW1lbnRzIHdpdGhpbiB0aGUgc2Vjb25kIDx0ZD5cbiAgICAgIGNvbnN0IGFwcGx5TGlua0VsZW1lbnRzID0gdGRFbGVtZW50c1sxXS5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7XG4gICAgICBpZiAoYXBwbHlMaW5rRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCA8YT4gZWxlbWVudCBhbmQgY29uc3RydWN0IGFwcGx5TGluayBzdHJpbmdzXG4gICAgICAgIGFwcGx5TGlua0VsZW1lbnRzLmZvckVhY2goKGFwcGx5TGlua0VsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBocmVmID0gYXBwbHlMaW5rRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJztcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gYXBwbHlMaW5rRWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBhcHBseUxpbmsgc3RyaW5nIHdpdGggY2xpY2thYmxlIHRleHRcbiAgICAgICAgICBhcHBseUxpbmtzLnB1c2goYDxhIGhyZWY9XCIke2hyZWZ9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHt0ZXh0fTwvYT5gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYXBwbHlMaW5rcztcbn07XG5cbmNvbnN0IGZldGNoQXBwbHlOb3RpZmljYXRpb25MaW5rID0gKGh0bWw6IHN0cmluZyk6IGFueSA9PiB7XG4gIGNvbnN0IGRvbSA9IG5ldyBKU0RPTShodG1sKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBkb20ud2luZG93LmRvY3VtZW50O1xuICBsZXQgYXBwbHlMaW5rczogc3RyaW5nW10gPSBbXTtcblxuICAvLyBGaW5kIGFsbCA8dHI+IGVsZW1lbnRzIGluIHRoZSBkb2N1bWVudFxuICBjb25zdCB0ckVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndHInKTtcblxuICAvLyBMb29wIHRocm91Z2ggZWFjaCA8dHI+IGVsZW1lbnQgdG8gZmluZCBcIkFwcGx5IE9ubGluZVwiXG4gIHRyRWxlbWVudHMuZm9yRWFjaCgodHIpID0+IHtcbiAgICBjb25zdCB0ZEVsZW1lbnRzID0gdHIucXVlcnlTZWxlY3RvckFsbCgndGQnKTtcbiAgICAvLyBDaGVjayBpZiB0aGUgZmlyc3QgPHRkPiBjb250YWlucyBcIkFwcGx5IE9ubGluZVwiXG4gICAgaWYgKHRkRWxlbWVudHMubGVuZ3RoID49IDIgJiYgdGRFbGVtZW50c1swXS50ZXh0Q29udGVudD8uaW5jbHVkZXMoJ0Rvd25sb2FkJykgJiYgdGRFbGVtZW50c1swXS50ZXh0Q29udGVudD8uaW5jbHVkZXMoJ05vdGlmaWNhdGlvbicpKSB7XG4gICAgICAvLyBGaW5kIGFsbCA8YT4gZWxlbWVudHMgd2l0aGluIHRoZSBzZWNvbmQgPHRkPlxuICAgICAgY29uc3QgYXBwbHlMaW5rRWxlbWVudHMgPSB0ZEVsZW1lbnRzWzFdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbiAgICAgIGlmIChhcHBseUxpbmtFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIDxhPiBlbGVtZW50IGFuZCBjb25zdHJ1Y3QgYXBwbHlMaW5rIHN0cmluZ3NcbiAgICAgICAgYXBwbHlMaW5rRWxlbWVudHMuZm9yRWFjaCgoYXBwbHlMaW5rRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhyZWYgPSBhcHBseUxpbmtFbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBhcHBseUxpbmtFbGVtZW50LnRleHRDb250ZW50Py50cmltKCkgfHwgJyc7XG5cbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIGFwcGx5TGluayBzdHJpbmcgd2l0aCBjbGlja2FibGUgdGV4dFxuICAgICAgICAgIGFwcGx5TGlua3MucHVzaChgPGEgaHJlZj1cIiR7aHJlZn1cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke3RleHR9PC9hPmApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhcHBseUxpbmtzO1xufTtcblxuXG5cbi8vIGNvbnN0IGZldGNoQXBwbHlOb3RpZmljYXRpb25MaW5rID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4vLyAgIGNvbnN0IGRvbSA9IG5ldyBKU0RPTShodG1sKTtcbi8vICAgY29uc3QgZG9jdW1lbnQgPSBkb20ud2luZG93LmRvY3VtZW50O1xuLy8gICBsZXQgYXBwbHlMaW5rID0gJyc7XG5cbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndHInKS5mb3JFYWNoKHRyID0+IHtcbi8vICAgICBpZiAodHIudGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdEb3dubG9hZCcpICYmIHRyLnRleHRDb250ZW50Py5pbmNsdWRlcygnTm90aWZpY2F0aW9uJykpIHtcbi8vICAgICAgIGNvbnN0IGxpbmsgPSB0ci5xdWVyeVNlbGVjdG9yKCdhW2hyZWZdJyk/LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuLy8gICAgICAgaWYgKGxpbmspIHtcbi8vICAgICAgICAgYXBwbHlMaW5rID0gbGluaztcbi8vICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgfVxuLy8gICAgIH1cbi8vICAgfSk7XG5cbi8vICAgcmV0dXJuIGFwcGx5TGluaztcbi8vIH07XG5cbmZ1bmN0aW9uIGZldGNoUHVibGlzaGVkRGF0ZShodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBkb20gPSBuZXcgSlNET00oaHRtbCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZG9tLndpbmRvdy5kb2N1bWVudDtcbiAgbGV0IGZvcm1hdHRlZERhdGUgPSAnJztcblxuICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG5cbiAgaWYgKCF0Ym9keSkge1xuICAgIHJldHVybiBmb3JtYXR0ZWREYXRlO1xuICB9XG5cbiAgY29uc3QgdHJFbGVtZW50cyA9IHRib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7XG5cbiAgdHJFbGVtZW50cy5mb3JFYWNoKCh0cikgPT4ge1xuICAgIGNvbnN0IHRkRWxlbWVudHMgPSB0ci5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xuICAgIGlmICh0ZEVsZW1lbnRzLmxlbmd0aCA+PSAyICYmIHRkRWxlbWVudHNbMF0udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdQb3N0IERhdGUgLyBVcGRhdGU6JykpIHtcbiAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSB0ZEVsZW1lbnRzWzFdLnRleHRDb250ZW50Py50cmltKCkgfHwgJyc7XG4gICAgICBmb3JtYXR0ZWREYXRlID0gZm9ybWF0RGF0ZVN0cmluZyhkYXRlU3RyaW5nKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmb3JtYXR0ZWREYXRlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXRlU3RyaW5nKGRhdGVTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IFtkYXRlUGFydCwgdGltZVBhcnRdID0gZGF0ZVN0cmluZy5zcGxpdCgnIHwgJyk7XG4gIGNvbnN0IGRhdGVQYXJ0cyA9IGRhdGVQYXJ0LnNwbGl0KCcgJyk7XG4gIGNvbnN0IGRheSA9IGRhdGVQYXJ0c1swXTtcbiAgY29uc3QgbW9udGggPSBnZXRNb250aE51bWJlcihkYXRlUGFydHNbMV0pO1xuICBjb25zdCB5ZWFyID0gZGF0ZVBhcnRzWzJdO1xuICBjb25zdCBmb3JtYXR0ZWREYXRlID0gYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9YDtcbiAgY29uc3QgZmluYWxEYXRlID0gYCR7Zm9ybWF0dGVkRGF0ZX0gJHt0aW1lUGFydH1gO1xuICByZXR1cm4gZmluYWxEYXRlO1xufVxuXG5mdW5jdGlvbiBnZXRNb250aE51bWJlcihtb250aE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IG1vbnRoczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAnSmFudWFyeSc6ICcwMScsICdGZWJydWFyeSc6ICcwMicsICdNYXJjaCc6ICcwMycsXG4gICAgJ0FwcmlsJzogJzA0JywgJ01heSc6ICcwNScsICdKdW5lJzogJzA2JyxcbiAgICAnSnVseSc6ICcwNycsICdBdWd1c3QnOiAnMDgnLCAnU2VwdGVtYmVyJzogJzA5JyxcbiAgICAnT2N0b2Jlcic6ICcxMCcsICdOb3ZlbWJlcic6ICcxMScsICdEZWNlbWJlcic6ICcxMidcbiAgfTtcbiAgcmV0dXJuIG1vbnRoc1ttb250aE5hbWVdIHx8ICcnO1xufVxuXG5jb25zdCBjYWxjdWxhdGVEYXlzTGVmdCA9IChsYXN0RGF0ZTogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFsYXN0RGF0ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgXG4gIGNvbnN0IHBhcnRzID0gbGFzdERhdGUuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgXG4gIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShwYXJzZUludChwYXJ0c1syXSksIHBhcnNlSW50KHBhcnRzWzFdKSAtIDEsIHBhcnNlSW50KHBhcnRzWzBdKSk7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgZGlmZlRpbWUgPSBlbmREYXRlLmdldFRpbWUoKSAtIHRvZGF5LmdldFRpbWUoKTtcbiAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICBcbiAgcmV0dXJuIGRpZmZEYXlzO1xufTtcblxuY29uc3QgcGFyc2VKb2JzRnJvbUh0bWwgPSAoaHRtbDogc3RyaW5nKTogSm9iW10gPT4ge1xuICBjb25zdCBkb20gPSBuZXcgSlNET00oaHRtbCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZG9tLndpbmRvdy5kb2N1bWVudDtcbiAgY29uc3Qgam9iQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bvc3QnKTtcbiAgXG4gIGlmICgham9iQ29udGFpbmVyKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIFxuICBjb25zdCBqb2JMaXN0cyA9IEFycmF5LmZyb20oam9iQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3VsJykpO1xuICBcbiAgaWYgKGpvYkxpc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBcbiAgcmV0dXJuIGpvYkxpc3RzLm1hcCgobGlzdCkgPT4ge1xuICAgIGNvbnN0IGpvYk5hbWVMaW5rRWxlbWVudCA9IGxpc3QucXVlcnlTZWxlY3RvcignbGkgPiBhJyk7XG4gICAgY29uc3Qgam9iTmFtZVdpdGhMaW5rID0gam9iTmFtZUxpbmtFbGVtZW50Py5vdXRlckhUTUwgfHwgJyc7XG4gICAgXG4gICAgLy8gTWF0Y2ggYW55IHN0cmluZyBhZnRlciBcIkxhc3QgRGF0ZSA6IFwiIHVudGlsIHRoZSBlbmQgb2YgdGhlIGxpbmVcbiAgICBjb25zdCBsYXN0RGF0ZU1hdGNoID0gbGlzdC50ZXh0Q29udGVudD8ubWF0Y2goL0xhc3QgRGF0ZSA6ICguKikvKTtcbiAgICBjb25zdCBsYXN0RGF0ZSA9IGxhc3REYXRlTWF0Y2ggPyBsYXN0RGF0ZU1hdGNoWzFdLnRyaW0oKSA6ICcnOyAvLyBVc2UgdGhlIG1hdGNoZWQgc3RyaW5nXG4gICAgXG4gICAgY29uc3QgdXJsID0gam9iTmFtZUxpbmtFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJztcbiAgICBcbiAgICByZXR1cm4geyB1cmwsIG5hbWVXaXRoTGluazogam9iTmFtZVdpdGhMaW5rLCBsYXN0RGF0ZSB9O1xuICB9KTtcbn07XG5cblxuXG5leHBvcnQgeyBmZXRjaEFuZFBhcnNlSm9icyB9O1xuIl0sIm5hbWVzIjpbImF4aW9zIiwiSlNET00iLCJmZXRjaEFuZFBhcnNlSm9icyIsInVybCIsInJlc3BvbnNlIiwiZ2V0IiwiaHRtbCIsImRhdGEiLCJqb2JzIiwicGFyc2VKb2JzRnJvbUh0bWwiLCJjdXJyZW50WWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImZpbHRlcmVkSm9icyIsImZpbHRlciIsImpvYiIsImxhc3REYXRlIiwicGFyc2VEYXRlIiwieWVhciIsImdldFllYXJGcm9tRGF0ZVN0cmluZyIsImpvYk5hbWVZZWFyIiwiZXh0cmFjdFllYXJGcm9tSm9iTmFtZSIsIm5hbWVXaXRoTGluayIsImxlbmd0aCIsImpvYkh0bWwiLCJ0aGVuIiwicmVzIiwiYXBwbHlMaW5rcyIsImZldGNoQXBwbHlMaW5rIiwiZGF5c0xlZnQiLCJjYWxjdWxhdGVEYXlzTGVmdCIsIm5vdGlmaWNhdGlvbkxpbmtzIiwiZmV0Y2hBcHBseU5vdGlmaWNhdGlvbkxpbmsiLCJwdWJsaXNoZWREYXRlIiwiZmV0Y2hQdWJsaXNoZWREYXRlIiwic29ydCIsImEiLCJiIiwiZGF0ZUEiLCJkYXRlQiIsImlzTmFOIiwiZ2V0VGltZSIsImRhdGVTdHJpbmciLCJwYXJ0cyIsInNwbGl0IiwiTmFOIiwicGFyc2VJbnQiLCJqb2JOYW1lV2l0aExpbmsiLCJ5ZWFyTWF0Y2giLCJtYXRjaCIsImRvbSIsImRvY3VtZW50Iiwid2luZG93IiwidHJFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwidHIiLCJ0ZEVsZW1lbnRzIiwidGV4dENvbnRlbnQiLCJpbmNsdWRlcyIsImFwcGx5TGlua0VsZW1lbnRzIiwiYXBwbHlMaW5rRWxlbWVudCIsImhyZWYiLCJnZXRBdHRyaWJ1dGUiLCJ0ZXh0IiwidHJpbSIsInB1c2giLCJmb3JtYXR0ZWREYXRlIiwidGJvZHkiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybWF0RGF0ZVN0cmluZyIsImRhdGVQYXJ0IiwidGltZVBhcnQiLCJkYXRlUGFydHMiLCJkYXkiLCJtb250aCIsImdldE1vbnRoTnVtYmVyIiwiZmluYWxEYXRlIiwibW9udGhOYW1lIiwibW9udGhzIiwidW5kZWZpbmVkIiwiZW5kRGF0ZSIsInRvZGF5IiwiZGlmZlRpbWUiLCJkaWZmRGF5cyIsIk1hdGgiLCJjZWlsIiwiam9iQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJqb2JMaXN0cyIsIkFycmF5IiwiZnJvbSIsIm1hcCIsImxpc3QiLCJqb2JOYW1lTGlua0VsZW1lbnQiLCJvdXRlckhUTUwiLCJsYXN0RGF0ZU1hdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/app/services/fetchJobs.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/fetchJobs.ts":
/*!************************************!*\
  !*** ./src/pages/api/fetchJobs.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _app_services_fetchJobs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../app/services/fetchJobs */ \"(api)/./src/app/services/fetchJobs.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_app_services_fetchJobs__WEBPACK_IMPORTED_MODULE_0__]);\n_app_services_fetchJobs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    try {\n        console.log(\"API handler: Fetching jobs...\");\n        const jobs = await (0,_app_services_fetchJobs__WEBPACK_IMPORTED_MODULE_0__.fetchAndParseJobs)();\n        console.log(\"API handler: Fetched jobs:\", jobs);\n        res.status(200).json(jobs);\n    } catch (error) {\n        console.error(\"API handler: Failed to fetch jobs:\", error);\n        res.status(500).json({\n            message: \"Failed to fetch jobs\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2ZldGNoSm9icy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNpRTtBQUVsRCxlQUFlQyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU1DLE9BQU8sTUFBTU4sMEVBQWlCQTtRQUNwQ0ksUUFBUUMsR0FBRyxDQUFDLDhCQUE4QkM7UUFDMUNILElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNGO0lBQ3ZCLEVBQUUsT0FBT0csT0FBTztRQUNkTCxRQUFRSyxLQUFLLENBQUMsc0NBQXNDQTtRQUNwRE4sSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFRSxTQUFTO1FBQXVCO0lBQ3pEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qb2ItcG9ydGFsLy4vc3JjL3BhZ2VzL2FwaS9mZXRjaEpvYnMudHM/M2Q4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBmZXRjaEFuZFBhcnNlSm9icyB9IGZyb20gJy4uLy4uL2FwcC9zZXJ2aWNlcy9mZXRjaEpvYnMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0FQSSBoYW5kbGVyOiBGZXRjaGluZyBqb2JzLi4uJyk7XG4gICAgY29uc3Qgam9icyA9IGF3YWl0IGZldGNoQW5kUGFyc2VKb2JzKCk7XG4gICAgY29uc29sZS5sb2coJ0FQSSBoYW5kbGVyOiBGZXRjaGVkIGpvYnM6Jywgam9icyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oam9icyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIGhhbmRsZXI6IEZhaWxlZCB0byBmZXRjaCBqb2JzOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggam9icycgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmZXRjaEFuZFBhcnNlSm9icyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiam9icyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/fetchJobs.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FfetchJobs&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FfetchJobs.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();